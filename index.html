<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Language Needs Radar</title>
  <style>
    :root { color-scheme: light dark; }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display: flex;
      flex-direction: column;
    }
    main { flex: 1; }

    header {
      position: sticky; top: 0;
      background: rgba(255,255,255,.9);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(0,0,0,.12);
      z-index: 10;
    }
    @media (prefers-color-scheme: dark) {
      header { background: rgba(20,20,20,.85); border-bottom-color: rgba(255,255,255,.14); }
    }

    .wrap { max-width: 1200px; margin: 0 auto; padding: 14px; }
    h1 { margin: 0; font-size: 16px; font-weight: 800; }
    .hint { font-size: 12px; opacity: .75; line-height: 1.45; margin-top: 6px; }

    .sectionTitle {
      margin: 16px 0 8px;
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      opacity: .7;
color: #0020C2;
    }

    .subToolbar {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      margin: 6px 0 10px;
      font-size: 12px;
      opacity: .92;
    }
    .subToolbar .sep { opacity: .55; }

    .select, .text {
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,.18);
      background: transparent;
      opacity: .95;
      outline: none;
    }
    .text { min-width: 220px; }
    @media (prefers-color-scheme: dark) {
      .select, .text { border-color: rgba(255,255,255,.18); }
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.14);
      opacity: .9;
      white-space: nowrap;
    }
    @media (prefers-color-scheme: dark) {
      .badge { border-color: rgba(255,255,255,.18); }
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }
    @media (max-width: 860px) {
      .grid { grid-template-columns: 1fr; }
    }

    .item {
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 14px;
      padding: 12px;
      display: flex;
      gap: 12px;
      justify-content: space-between;
      align-items: flex-start;
    }
    @media (prefers-color-scheme: dark) {
      .item { border-color: rgba(255,255,255,.14); }
    }

    .left { flex: 1; display: grid; gap: 6px; min-width: 0; }
    .top { display: flex; gap: 8px; align-items: center; min-width: 0; }
    .tag {
      font-size: 11px; padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.14);
      opacity: .8;
      white-space: nowrap;
    }

    .title {
      font-size: 13px;
      font-weight: 800;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .desc { font-size: 12px; opacity: .78; line-height: 1.45; }
    .tip  { font-size: 12px; opacity: .72; line-height: 1.45; }

    .metaLine {
      font-size: 12px;
      opacity: .78;
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 2px;
    }
    .metaPill {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.14);
      opacity: .85;
      white-space: nowrap;
    }
    @media (prefers-color-scheme: dark) {
      .metaPill { border-color: rgba(255,255,255,.18); }
    }

    .actions {
      display: grid;
      gap: 8px;
      min-width: 210px;
    }
    .btn {
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.18);
      background: transparent;
      cursor: pointer;
      opacity: .92;
      white-space: nowrap;
      text-align: center;
    }
    @media (prefers-color-scheme: dark) {
      .btn { border-color: rgba(255,255,255,.18); }
    }
    .btn:hover { opacity: 1; }

    .btnRow {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    /* --- footer / history --- */
    footer {
      padding: 18px 0 24px;
      text-align: center;
      font-size: 12px;
      opacity: .75;
    }

    .historyWrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 14px 18px;
      text-align: left;
    }

    .historyHeader {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin: 10px 0 8px;
    }

    .historyTitle {
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      opacity: .7;
      margin: 0;
    }

    .historyList {
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 14px;
      overflow: hidden;
    }
    @media (prefers-color-scheme: dark) {
      .historyList { border-color: rgba(255,255,255,.14); }
    }

    .hrow {
      display: grid;
      grid-template-columns: 170px 1fr 110px;
      gap: 10px;
      padding: 10px 12px;
      align-items: center;
      border-top: 1px solid rgba(0,0,0,.08);
      cursor: pointer;
    }
    .hrow:first-child { border-top: 0; }
    @media (prefers-color-scheme: dark) {
      .hrow { border-top-color: rgba(255,255,255,.10); }
    }
    @media (max-width: 720px) {
      .hrow { grid-template-columns: 1fr; gap: 6px; }
    }

    .htime { font-size: 12px; opacity: .75; white-space: nowrap; }
    .htext { font-size: 12px; opacity: .9; min-width: 0; }
    .htext b { font-weight: 800; }
    .hopen {
      justify-self: end;
      font-size: 12px;
      opacity: .8;
      text-align: right;
      white-space: nowrap;
    }
    @media (max-width: 720px) {
      .hopen { justify-self: start; text-align: left; }
    }

    .muted { opacity: .65; }

  </style>
</head>

<body>
<header>
  <div class="wrap">
    <h1>Language Needs Radar</h1>
    <div class="hint">
      ì–¸ì–´/ë²¤ì¹˜ë§ˆí¬/ì±„ìš© ì‹œê·¸ë„
    </div>

    <div class="sectionTitle">íƒìƒ‰</div>
    <div class="grid" id="grid-discovery"></div>

    <div class="sectionTitle">HELM ë²¤ì¹˜ë§ˆí¬</div>
    <div class="grid" id="grid-helm"></div>

    <div class="sectionTitle">ì±„ìš© ì‹œê·¸ë„</div>

    <div class="subToolbar">
      <span style="opacity:.85;">ë‹¨ì¼ ì–¸ì–´(ì±„ìš©) ì„ íƒ:</span>

      <select class="select" id="langSelect">
        <option value="japanese">Japanese</option>
        <option value="korean">Korean</option>
        <option value="hindi">Hindi</option>
        <option value="arabic">Arabic</option>
        <option value="chinese">Chinese/Mandarin</option>
        <option value="spanish">Spanish</option>
        <option value="french">French</option>
        <option value="bengali">Bengali/Bangla</option>
        <option value="portuguese">Portuguese</option>
        <option value="russian">Russian</option>
        <option value="urdu">Urdu</option>
        <option value="indonesian">Indonesian</option>
        <option value="german">German</option>
        <option value="swahili">Swahili</option>
        <option value="marathi">Marathi</option>
        <option value="telugu">Telugu</option>
        <option value="turkish">Turkish</option>
        <option value="tamil">Tamil</option>
        <option value="vietnamese">Vietnamese</option>
      </select>

      <input class="text" id="langCustom" placeholder="(ì„ íƒ) ì»¤ìŠ¤í…€ ì–¸ì–´ í‚¤ì›Œë“œ ì˜ˆ: Thai, Yoruba" />

      <span id="customBadge" class="badge" style="display:none;">âœ¨ ì»¤ìŠ¤í…€ ì‚¬ìš© ì¤‘</span>

      <span class="sep">|</span>
      <span class="muted">ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ì±„ìš© ì‚¬ì´íŠ¸ ë‚´ë¶€ ê²€ìƒ‰ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤.</span>
    </div>

    <div class="grid" id="grid-hiring"></div>
  </div>
</header>

<main></main>

<div class="historyWrap">
  <div class="historyHeader">
    <p class="historyTitle">ìµœê·¼ ì ‘ì† ê¸°ë¡</p>
    <button class="btn" id="clearHistoryBtn" style="min-width:110px;">ê¸°ë¡ ì§€ìš°ê¸°</button>
  </div>

  <div class="historyList" id="historyList"></div>
  <div class="muted" style="margin-top:8px; font-size:12px;">
    * ê¸°ë¡ì€ ì‚¬ìš©ì ê°œì¸ localStorageì— ì €ì¥ë©ë‹ˆë‹¤.
  </div>
</div>

<footer>
  conceived &amp; built by cw park
</footer>

<script>
  // ---------------------------
  // History (localStorage)
  // ---------------------------
  const HISTORY_KEY = "radar_open_history_v1";
  const HISTORY_MAX = 60;

  function readHistory(){
    try { return JSON.parse(localStorage.getItem(HISTORY_KEY) || "[]"); }
    catch { return []; }
  }
  function writeHistory(list){
    localStorage.setItem(HISTORY_KEY, JSON.stringify(list));
  }
  function nowKSTString(){
    // runs in user's browser timezone; show locale string
    const d = new Date();
    // keep it neat: YYYY-MM-DD HH:MM
    const pad = (n)=> String(n).padStart(2,"0");
    const yyyy = d.getFullYear();
    const mm = pad(d.getMonth()+1);
    const dd = pad(d.getDate());
    const hh = pad(d.getHours());
    const mi = pad(d.getMinutes());
    return `${yyyy}-${mm}-${dd} ${hh}:${mi}`;
  }

  function addHistory(entry){
    const list = readHistory();
    // de-dupe identical consecutive opens
    const top = list[0];
    if (top && top.url === entry.url) {
      list[0] = entry; // just refresh time
    } else {
      list.unshift(entry);
    }
    if (list.length > HISTORY_MAX) list.length = HISTORY_MAX;
    writeHistory(list);
    renderHistory();
  }

  function openAndLog(url, label, tag){
    addHistory({
      time: nowKSTString(),
      label: label || "ì—´ê¸°",
      tag: tag || "",
      url
    });
    window.open(url, "_blank", "noopener,noreferrer");
  }

  function renderHistory(){
    const box = document.getElementById("historyList");
    const list = readHistory();

    if (!list.length) {
      box.innerHTML = `
        <div class="hrow" style="cursor:default;">
          <div class="htime muted">-</div>
          <div class="htext muted">ì•„ì§ ê¸°ë¡ì´ ì—†ì–´ìš”.</div>
          <div class="hopen muted">-</div>
        </div>
      `;
      return;
    }

    box.innerHTML = "";
    list.forEach((h, idx) => {
      const row = document.createElement("div");
      row.className = "hrow";
      row.innerHTML = `
        <div class="htime">${escapeHtml(h.time || "")}</div>
        <div class="htext">
          ${h.tag ? `<span class="metaPill" style="margin-right:6px;">${escapeHtml(h.tag)}</span>` : ``}
          <b>${escapeHtml(h.label || "")}</b>
          <span class="muted" style="margin-left:6px;">${escapeHtml((h.url || "").replace(/^https?:\/\//,""))}</span>
        </div>
        <div class="hopen">ë‹¤ì‹œ ì—´ê¸° â†—</div>
      `;
      row.onclick = () => openAndLog(h.url, h.label, h.tag);
      box.appendChild(row);
    });
  }

  document.getElementById("clearHistoryBtn").onclick = () => {
    writeHistory([]);
    renderHistory();
  };

  // ---------------------------
  // Hiring search (simple keywords)
  // ---------------------------
  const SINGLE_LANG_KEYWORD = {
    chinese: "chinese mandarin",
    arabic: "arabic",
    bengali: "bengali bangla",
    indonesian: "indonesian bahasa",
    japanese: "japanese",
    korean: "korean",
    hindi: "hindi",
    spanish: "spanish",
    french: "french",
    portuguese: "portuguese",
    russian: "russian",
    urdu: "urdu",
    german: "german",
    swahili: "swahili",
    marathi: "marathi",
    telugu: "telugu",
    turkish: "turkish",
    tamil: "tamil",
    vietnamese: "vietnamese"
  };

  function getPickedLangKeyword(){
    const custom = (document.getElementById("langCustom").value || "").trim();
    if (custom) return custom;
    const key = document.getElementById("langSelect").value;
    return SINGLE_LANG_KEYWORD[key] || "japanese";
  }
  function isCustomActive(){
    return ((document.getElementById("langCustom").value || "").trim().length > 0);
  }
  function updateCustomBadge(){
    document.getElementById("customBadge").style.display = isCustomActive() ? "inline-flex" : "none";
  }

  function buildCompanySearchUrl(companyId, query){
    const q = encodeURIComponent(query);

    if (companyId === "google") return `https://careers.google.com/jobs/results/?q=${q}`;
    if (companyId === "meta") return `https://www.metacareers.com/jobs/?q=${q}`;
    if (companyId === "openai") return `https://openai.com/careers/search/?q=${q}`;
    if (companyId === "anthropic") return `https://boards.greenhouse.io/anthropic?query=${q}`;
    return "#";
  }

  function buildHiringUrls(companyId){
    const lang = getPickedLangKeyword();
    return {
      base: buildCompanySearchUrl(companyId, lang),
      speech: buildCompanySearchUrl(companyId, `${lang} speech`),
      translation: buildCompanySearchUrl(companyId, `${lang} translation`),
      localization: buildCompanySearchUrl(companyId, `${lang} localization`),
      policy: buildCompanySearchUrl(companyId, `${lang} policy`),
      redteaming: buildCompanySearchUrl(companyId, `${lang} red teaming`),
      rlhf: buildCompanySearchUrl(companyId, `${lang} rlhf`),
      safety: buildCompanySearchUrl(companyId, `${lang} safety`)
    };
  }

  // ---------------------------
  // Page cards
  // ---------------------------
  const PAGES = [
    // discovery
    {id:"hf", group:"discovery", title:"Hugging Face Papers Trending", tag:"Low-resource",
     url:"https://huggingface.co/papers/trending?q=Low-resource+languages",
     tip:"â€˜ë°ì´í„° ë¶€ì¡± ì–¸ì–´â€™ ê´€ë ¨ ìµœì‹  ë…¼ë¬¸/íŠ¸ë Œë“œ ë¦¬ìŠ¤íŠ¸."},

    {id:"slator", group:"discovery", title:"Slator ê²€ìƒ‰: Low-resource languages", tag:"Industry",
     url:"https://slator.com/?s=Low-resource+languages",
     tip:"ë¹…í…Œí¬ì˜ ì–¸ì–´ í™•ì¥, íŒŒíŠ¸ë„ˆì‹­, í”„ë¡œê·¸ë¨ ê´€ë ¨"},

    {id:"xtreme", group:"discovery", title:"XTREME (Google Research)", tag:"Benchmark",
     url:"https://sites.research.google/xtreme",
     tip:"ë‹¤êµ­ì–´ ë²¤ì¹˜ë§ˆí¬ (ì–¸ì–´ë³„ FM ì„±ëŠ¥ ë¹„êµ)"},

    // HELM
    {id:"sea", group:"helm", title:"HELM SEAHELM", tag:"SEA",
     url:"https://crfm.stanford.edu/helm/seahelm/latest/",
     tip:"ë™ë‚¨ì•„(SEA) ì–¸ì–´ë³„ FM ì„±ëŠ¥ ë¹„êµ"},

    {id:"thai", group:"helm", title:"HELM ThaiExam", tag:"TH",
     url:"https://crfm.stanford.edu/helm/thaiexam/latest/",
     tip:"íƒœêµ­ì–´(Thai) FM ì„±ëŠ¥ ë¹„êµ"},

    {id:"arabic", group:"helm", title:"HELM Arabic", tag:"AR",
     url:"https://crfm.stanford.edu/helm/arabic/latest/",
     tip:"ì•„ëì–´(Arabic) FM ì„±ëŠ¥ ë¹„êµ"},

    {id:"cleva", group:"helm", title:"HELM CLEVA", tag:"CN",
     url:"https://crfm.stanford.edu/helm/cleva/latest/",
     tip:"ì¤‘êµ­ì–´(Chinese) FM ì„±ëŠ¥ ë¹„êµ"},

    {id:"afr", group:"helm", title:"HELM Afr (MMLU + WinoGrande)", tag:"AFR",
     url:"https://crfm.stanford.edu/helm/mmlu-winogrande-afr/latest/",
     tip:"ì•„í”„ë¦¬ì¹´ì–´(AFR) FM ì„±ëŠ¥ ë¹„êµ"},

    // hiring
    {id:"hire_google", group:"hiring", title:"Google ì±„ìš©", tag:"Google", companyId:"google",
     tip:"ì„ íƒ ì–¸ì–´ + í‚¤ì›Œë“œë¡œ Google Careers ë‚´ë¶€ ê²€ìƒ‰"},

    {id:"hire_meta", group:"hiring", title:"Meta ì±„ìš©", tag:"Meta", companyId:"meta",
     tip:"ì„ íƒ ì–¸ì–´ + í‚¤ì›Œë“œë¡œ Meta Careers ë‚´ë¶€ ê²€ìƒ‰"},

    {id:"hire_openai", group:"hiring", title:"OpenAI ì±„ìš©", tag:"OpenAI", companyId:"openai",
     tip:"ì„ íƒ ì–¸ì–´ + í‚¤ì›Œë“œë¡œ OpenAI Careers ë‚´ë¶€ ê²€ìƒ‰"}
  ];

  function escapeHtml(str){
    return (str || "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  function render(group){
    const grid = document.getElementById(`grid-${group}`);
    grid.innerHTML = "";

    PAGES.filter(p=>p.group===group).forEach(p=>{
      const el = document.createElement("div");
      el.className = "item";

      if(group !== "hiring"){
        el.innerHTML = `
          <div class="left">
            <div class="top">
              <span class="tag">${p.tag}</span>
              <span class="title" title="í´ë¦­í•˜ë©´ ì›ë¬¸ìœ¼ë¡œ ì—´ë¦¼">${p.title}</span>
            </div>
            <div class="tip">ğŸ¶ ${p.tip}</div>
          </div>
          <div class="actions">
            <button class="btn btnOpen">ì›ë¬¸ â†—</button>
          </div>
        `;

        const titleEl = el.querySelector(".title");
        const btnOpen = el.querySelector(".btnOpen");

        const open = () => openAndLog(p.url, p.title, p.tag);
        titleEl.onclick = open;
        btnOpen.onclick = open;

        grid.appendChild(el);
        return;
      }

      // hiring cards
      const langNow = getPickedLangKeyword();
      const customOn = isCustomActive();

      el.innerHTML = `
        <div class="left">
          <div class="top">
            <span class="tag">${p.tag}</span>
            <span class="title" title="í´ë¦­í•˜ë©´ (ì„ íƒ ì–¸ì–´)ë¡œ ê²€ìƒ‰">${p.title}</span>
          </div>

          <div class="metaLine">
            <span style="opacity:.75;">í˜„ì¬:</span>
            <span class="metaPill">${escapeHtml(langNow)}</span>
            ${customOn ? `<span class="metaPill">âœ¨ ì»¤ìŠ¤í…€</span>` : ``}
          </div>

          <div class="tip">ğŸ± ${p.tip}</div>
        </div>

        <div class="actions">
          <button class="btn b_lang">ì„ íƒ ì–¸ì–´</button>

          <div class="btnRow">
            <button class="btn b_speech">+speech</button>
            <button class="btn b_trans">+translation</button>
          </div>

          <div class="btnRow">
            <button class="btn b_local">+localization</button>
            <button class="btn b_policy">+policy</button>
          </div>

          <div class="btnRow">
            <button class="btn b_red">+red teaming</button>
            <button class="btn b_rlhf">+rlhf</button>
          </div>

          <button class="btn b_safety">+safety</button>
        </div>
      `;

      const titleEl = el.querySelector(".title");

      const open = (key) => {
        const u = buildHiringUrls(p.companyId)[key];
        const labelMap = {
          base: `${p.title} / ${langNow}`,
          speech: `${p.title} / ${langNow} +speech`,
          translation: `${p.title} / ${langNow} +translation`,
          localization: `${p.title} / ${langNow} +localization`,
          policy: `${p.title} / ${langNow} +policy`,
          redteaming: `${p.title} / ${langNow} +red teaming`,
          rlhf: `${p.title} / ${langNow} +rlhf`,
          safety: `${p.title} / ${langNow} +safety`
        };
        openAndLog(u, labelMap[key] || `${p.title} / ${langNow}`, p.tag);
      };

      titleEl.onclick = () => open("base");
      el.querySelector(".b_lang").onclick = () => open("base");
      el.querySelector(".b_speech").onclick = () => open("speech");
      el.querySelector(".b_trans").onclick = () => open("translation");
      el.querySelector(".b_local").onclick = () => open("localization");
      el.querySelector(".b_policy").onclick = () => open("policy");
      el.querySelector(".b_red").onclick = () => open("redteaming");
      el.querySelector(".b_rlhf").onclick = () => open("rlhf");
      el.querySelector(".b_safety").onclick = () => open("safety");

      grid.appendChild(el);
    });
  }

  function renderAll(){
    updateCustomBadge();
    render("discovery");
    render("helm");
    render("hiring");
    renderHistory();
  }

  document.getElementById("langSelect").onchange = renderAll;
  document.getElementById("langCustom").addEventListener("input", renderAll);

  // initial
  updateCustomBadge();
  renderAll();
</script>
</body>
</html>
